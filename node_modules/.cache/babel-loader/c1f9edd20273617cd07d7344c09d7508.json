{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { noop, off, on } from './misc/util';\n\nvar usePermission = function (permissionDesc) {\n  var mounted = true;\n  var permissionStatus = null;\n\n  var _a = useState(''),\n      state = _a[0],\n      setState = _a[1];\n\n  var onChange = function () {\n    if (mounted && permissionStatus) {\n      setState(permissionStatus.state);\n    }\n  };\n\n  var changeState = function () {\n    onChange();\n    on(permissionStatus, 'change', onChange);\n  };\n\n  useEffect(function () {\n    navigator.permissions.query(permissionDesc).then(function (status) {\n      permissionStatus = status;\n      changeState();\n    }).catch(noop);\n    return function () {\n      mounted = false;\n      permissionStatus && off(permissionStatus, 'change', onChange);\n    };\n  }, []);\n  return state;\n};\n\nexport default usePermission;","map":{"version":3,"sources":["D:/React-Portfolio/node_modules/react-use/esm/usePermission.js"],"names":["useEffect","useState","noop","off","on","usePermission","permissionDesc","mounted","permissionStatus","_a","state","setState","onChange","changeState","navigator","permissions","query","then","status","catch"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,EAApB,QAA8B,aAA9B;;AACA,IAAIC,aAAa,GAAG,UAAUC,cAAV,EAA0B;AAC1C,MAAIC,OAAO,GAAG,IAAd;AACA,MAAIC,gBAAgB,GAAG,IAAvB;;AACA,MAAIC,EAAE,GAAGR,QAAQ,CAAC,EAAD,CAAjB;AAAA,MAAuBS,KAAK,GAAGD,EAAE,CAAC,CAAD,CAAjC;AAAA,MAAsCE,QAAQ,GAAGF,EAAE,CAAC,CAAD,CAAnD;;AACA,MAAIG,QAAQ,GAAG,YAAY;AACvB,QAAIL,OAAO,IAAIC,gBAAf,EAAiC;AAC7BG,MAAAA,QAAQ,CAACH,gBAAgB,CAACE,KAAlB,CAAR;AACH;AACJ,GAJD;;AAKA,MAAIG,WAAW,GAAG,YAAY;AAC1BD,IAAAA,QAAQ;AACRR,IAAAA,EAAE,CAACI,gBAAD,EAAmB,QAAnB,EAA6BI,QAA7B,CAAF;AACH,GAHD;;AAIAZ,EAAAA,SAAS,CAAC,YAAY;AAClBc,IAAAA,SAAS,CAACC,WAAV,CACKC,KADL,CACWV,cADX,EAEKW,IAFL,CAEU,UAAUC,MAAV,EAAkB;AACxBV,MAAAA,gBAAgB,GAAGU,MAAnB;AACAL,MAAAA,WAAW;AACd,KALD,EAMKM,KANL,CAMWjB,IANX;AAOA,WAAO,YAAY;AACfK,MAAAA,OAAO,GAAG,KAAV;AACAC,MAAAA,gBAAgB,IAAIL,GAAG,CAACK,gBAAD,EAAmB,QAAnB,EAA6BI,QAA7B,CAAvB;AACH,KAHD;AAIH,GAZQ,EAYN,EAZM,CAAT;AAaA,SAAOF,KAAP;AACH,CA3BD;;AA4BA,eAAeL,aAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport { noop, off, on } from './misc/util';\nvar usePermission = function (permissionDesc) {\n    var mounted = true;\n    var permissionStatus = null;\n    var _a = useState(''), state = _a[0], setState = _a[1];\n    var onChange = function () {\n        if (mounted && permissionStatus) {\n            setState(permissionStatus.state);\n        }\n    };\n    var changeState = function () {\n        onChange();\n        on(permissionStatus, 'change', onChange);\n    };\n    useEffect(function () {\n        navigator.permissions\n            .query(permissionDesc)\n            .then(function (status) {\n            permissionStatus = status;\n            changeState();\n        })\n            .catch(noop);\n        return function () {\n            mounted = false;\n            permissionStatus && off(permissionStatus, 'change', onChange);\n        };\n    }, []);\n    return state;\n};\nexport default usePermission;\n"]},"metadata":{},"sourceType":"module"}