{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport { cloneElement, useEffect, useRef, useState } from 'react';\nimport { render } from 'react-universal-interface';\nimport useLatest from './useLatest';\nimport { noop, off, on } from './misc/util';\n\nvar useScratch = function (params) {\n  if (params === void 0) {\n    params = {};\n  }\n\n  var disabled = params.disabled;\n  var paramsRef = useLatest(params);\n\n  var _a = useState({\n    isScratching: false\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var refState = useRef(state);\n  var refScratching = useRef(false);\n  var refAnimationFrame = useRef(null);\n\n  var _b = useState(null),\n      el = _b[0],\n      setEl = _b[1];\n\n  useEffect(function () {\n    if (disabled) return;\n    if (!el) return;\n\n    var onMoveEvent = function (docX, docY) {\n      cancelAnimationFrame(refAnimationFrame.current);\n      refAnimationFrame.current = requestAnimationFrame(function () {\n        var _a = el.getBoundingClientRect(),\n            left = _a.left,\n            top = _a.top;\n\n        var elX = left + window.scrollX;\n        var elY = top + window.scrollY;\n        var x = docX - elX;\n        var y = docY - elY;\n        setState(function (oldState) {\n          var newState = __assign(__assign({}, oldState), {\n            dx: x - (oldState.x || 0),\n            dy: y - (oldState.y || 0),\n            end: Date.now(),\n            isScratching: true\n          });\n\n          refState.current = newState;\n          (paramsRef.current.onScratch || noop)(newState);\n          return newState;\n        });\n      });\n    };\n\n    var onMouseMove = function (event) {\n      onMoveEvent(event.pageX, event.pageY);\n    };\n\n    var onTouchMove = function (event) {\n      onMoveEvent(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n    };\n\n    var onMouseUp;\n    var onTouchEnd;\n\n    var stopScratching = function () {\n      if (!refScratching.current) return;\n      refScratching.current = false;\n      refState.current = __assign(__assign({}, refState.current), {\n        isScratching: false\n      });\n      (paramsRef.current.onScratchEnd || noop)(refState.current);\n      setState({\n        isScratching: false\n      });\n      off(window, 'mousemove', onMouseMove);\n      off(window, 'touchmove', onTouchMove);\n      off(window, 'mouseup', onMouseUp);\n      off(window, 'touchend', onTouchEnd);\n    };\n\n    onMouseUp = stopScratching;\n    onTouchEnd = stopScratching;\n\n    var startScratching = function (docX, docY) {\n      if (!refScratching.current) return;\n\n      var _a = el.getBoundingClientRect(),\n          left = _a.left,\n          top = _a.top;\n\n      var elX = left + window.scrollX;\n      var elY = top + window.scrollY;\n      var x = docX - elX;\n      var y = docY - elY;\n      var time = Date.now();\n      var newState = {\n        isScratching: true,\n        start: time,\n        end: time,\n        docX: docX,\n        docY: docY,\n        x: x,\n        y: y,\n        dx: 0,\n        dy: 0,\n        elH: el.offsetHeight,\n        elW: el.offsetWidth,\n        elX: elX,\n        elY: elY\n      };\n      refState.current = newState;\n      (paramsRef.current.onScratchStart || noop)(newState);\n      setState(newState);\n      on(window, 'mousemove', onMouseMove);\n      on(window, 'touchmove', onTouchMove);\n      on(window, 'mouseup', onMouseUp);\n      on(window, 'touchend', onTouchEnd);\n    };\n\n    var onMouseDown = function (event) {\n      refScratching.current = true;\n      startScratching(event.pageX, event.pageY);\n    };\n\n    var onTouchStart = function (event) {\n      refScratching.current = true;\n      startScratching(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n    };\n\n    on(el, 'mousedown', onMouseDown);\n    on(el, 'touchstart', onTouchStart);\n    return function () {\n      off(el, 'mousedown', onMouseDown);\n      off(el, 'touchstart', onTouchStart);\n      off(window, 'mousemove', onMouseMove);\n      off(window, 'touchmove', onTouchMove);\n      off(window, 'mouseup', onMouseUp);\n      off(window, 'touchend', onTouchEnd);\n      if (refAnimationFrame.current) cancelAnimationFrame(refAnimationFrame.current);\n      refAnimationFrame.current = null;\n      refScratching.current = false;\n      refState.current = {\n        isScratching: false\n      };\n      setState(refState.current);\n    };\n  }, [el, disabled, paramsRef]);\n  return [setEl, state];\n};\n\nexport var ScratchSensor = function (props) {\n  var children = props.children,\n      params = __rest(props, [\"children\"]);\n\n  var _a = useScratch(params),\n      ref = _a[0],\n      state = _a[1];\n\n  var element = render(props, state);\n  return cloneElement(element, __assign(__assign({}, element.props), {\n    ref: function (el) {\n      if (element.props.ref) {\n        if (typeof element.props.ref === 'object') element.props.ref.current = el;\n        if (typeof element.props.ref === 'function') element.props.ref(el);\n      }\n\n      ref(el);\n    }\n  }));\n};\nexport default useScratch;","map":{"version":3,"sources":["D:/React-Portfolio/node_modules/react-use/esm/useScratch.js"],"names":["__assign","__rest","cloneElement","useEffect","useRef","useState","render","useLatest","noop","off","on","useScratch","params","disabled","paramsRef","_a","isScratching","state","setState","refState","refScratching","refAnimationFrame","_b","el","setEl","onMoveEvent","docX","docY","cancelAnimationFrame","current","requestAnimationFrame","getBoundingClientRect","left","top","elX","window","scrollX","elY","scrollY","x","y","oldState","newState","dx","dy","end","Date","now","onScratch","onMouseMove","event","pageX","pageY","onTouchMove","changedTouches","onMouseUp","onTouchEnd","stopScratching","onScratchEnd","startScratching","time","start","elH","offsetHeight","elW","offsetWidth","onScratchStart","onMouseDown","onTouchStart","ScratchSensor","props","children","ref","element"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,OAAjC;AACA,SAASC,YAAT,EAAuBC,SAAvB,EAAkCC,MAAlC,EAA0CC,QAA1C,QAA0D,OAA1D;AACA,SAASC,MAAT,QAAuB,2BAAvB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,EAApB,QAA8B,aAA9B;;AACA,IAAIC,UAAU,GAAG,UAAUC,MAAV,EAAkB;AAC/B,MAAIA,MAAM,KAAK,KAAK,CAApB,EAAuB;AAAEA,IAAAA,MAAM,GAAG,EAAT;AAAc;;AACvC,MAAIC,QAAQ,GAAGD,MAAM,CAACC,QAAtB;AACA,MAAIC,SAAS,GAAGP,SAAS,CAACK,MAAD,CAAzB;;AACA,MAAIG,EAAE,GAAGV,QAAQ,CAAC;AAAEW,IAAAA,YAAY,EAAE;AAAhB,GAAD,CAAjB;AAAA,MAA4CC,KAAK,GAAGF,EAAE,CAAC,CAAD,CAAtD;AAAA,MAA2DG,QAAQ,GAAGH,EAAE,CAAC,CAAD,CAAxE;;AACA,MAAII,QAAQ,GAAGf,MAAM,CAACa,KAAD,CAArB;AACA,MAAIG,aAAa,GAAGhB,MAAM,CAAC,KAAD,CAA1B;AACA,MAAIiB,iBAAiB,GAAGjB,MAAM,CAAC,IAAD,CAA9B;;AACA,MAAIkB,EAAE,GAAGjB,QAAQ,CAAC,IAAD,CAAjB;AAAA,MAAyBkB,EAAE,GAAGD,EAAE,CAAC,CAAD,CAAhC;AAAA,MAAqCE,KAAK,GAAGF,EAAE,CAAC,CAAD,CAA/C;;AACAnB,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAIU,QAAJ,EACI;AACJ,QAAI,CAACU,EAAL,EACI;;AACJ,QAAIE,WAAW,GAAG,UAAUC,IAAV,EAAgBC,IAAhB,EAAsB;AACpCC,MAAAA,oBAAoB,CAACP,iBAAiB,CAACQ,OAAnB,CAApB;AACAR,MAAAA,iBAAiB,CAACQ,OAAlB,GAA4BC,qBAAqB,CAAC,YAAY;AAC1D,YAAIf,EAAE,GAAGQ,EAAE,CAACQ,qBAAH,EAAT;AAAA,YAAqCC,IAAI,GAAGjB,EAAE,CAACiB,IAA/C;AAAA,YAAqDC,GAAG,GAAGlB,EAAE,CAACkB,GAA9D;;AACA,YAAIC,GAAG,GAAGF,IAAI,GAAGG,MAAM,CAACC,OAAxB;AACA,YAAIC,GAAG,GAAGJ,GAAG,GAAGE,MAAM,CAACG,OAAvB;AACA,YAAIC,CAAC,GAAGb,IAAI,GAAGQ,GAAf;AACA,YAAIM,CAAC,GAAGb,IAAI,GAAGU,GAAf;AACAnB,QAAAA,QAAQ,CAAC,UAAUuB,QAAV,EAAoB;AACzB,cAAIC,QAAQ,GAAG1C,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyC,QAAL,CAAT,EAAyB;AAAEE,YAAAA,EAAE,EAAEJ,CAAC,IAAIE,QAAQ,CAACF,CAAT,IAAc,CAAlB,CAAP;AAA6BK,YAAAA,EAAE,EAAEJ,CAAC,IAAIC,QAAQ,CAACD,CAAT,IAAc,CAAlB,CAAlC;AAAwDK,YAAAA,GAAG,EAAEC,IAAI,CAACC,GAAL,EAA7D;AAAyE/B,YAAAA,YAAY,EAAE;AAAvF,WAAzB,CAAvB;;AACAG,UAAAA,QAAQ,CAACU,OAAT,GAAmBa,QAAnB;AACA,WAAC5B,SAAS,CAACe,OAAV,CAAkBmB,SAAlB,IAA+BxC,IAAhC,EAAsCkC,QAAtC;AACA,iBAAOA,QAAP;AACH,SALO,CAAR;AAMH,OAZgD,CAAjD;AAaH,KAfD;;AAgBA,QAAIO,WAAW,GAAG,UAAUC,KAAV,EAAiB;AAC/BzB,MAAAA,WAAW,CAACyB,KAAK,CAACC,KAAP,EAAcD,KAAK,CAACE,KAApB,CAAX;AACH,KAFD;;AAGA,QAAIC,WAAW,GAAG,UAAUH,KAAV,EAAiB;AAC/BzB,MAAAA,WAAW,CAACyB,KAAK,CAACI,cAAN,CAAqB,CAArB,EAAwBH,KAAzB,EAAgCD,KAAK,CAACI,cAAN,CAAqB,CAArB,EAAwBF,KAAxD,CAAX;AACH,KAFD;;AAGA,QAAIG,SAAJ;AACA,QAAIC,UAAJ;;AACA,QAAIC,cAAc,GAAG,YAAY;AAC7B,UAAI,CAACrC,aAAa,CAACS,OAAnB,EACI;AACJT,MAAAA,aAAa,CAACS,OAAd,GAAwB,KAAxB;AACAV,MAAAA,QAAQ,CAACU,OAAT,GAAmB7B,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKmB,QAAQ,CAACU,OAAd,CAAT,EAAiC;AAAEb,QAAAA,YAAY,EAAE;AAAhB,OAAjC,CAA3B;AACA,OAACF,SAAS,CAACe,OAAV,CAAkB6B,YAAlB,IAAkClD,IAAnC,EAAyCW,QAAQ,CAACU,OAAlD;AACAX,MAAAA,QAAQ,CAAC;AAAEF,QAAAA,YAAY,EAAE;AAAhB,OAAD,CAAR;AACAP,MAAAA,GAAG,CAAC0B,MAAD,EAAS,WAAT,EAAsBc,WAAtB,CAAH;AACAxC,MAAAA,GAAG,CAAC0B,MAAD,EAAS,WAAT,EAAsBkB,WAAtB,CAAH;AACA5C,MAAAA,GAAG,CAAC0B,MAAD,EAAS,SAAT,EAAoBoB,SAApB,CAAH;AACA9C,MAAAA,GAAG,CAAC0B,MAAD,EAAS,UAAT,EAAqBqB,UAArB,CAAH;AACH,KAXD;;AAYAD,IAAAA,SAAS,GAAGE,cAAZ;AACAD,IAAAA,UAAU,GAAGC,cAAb;;AACA,QAAIE,eAAe,GAAG,UAAUjC,IAAV,EAAgBC,IAAhB,EAAsB;AACxC,UAAI,CAACP,aAAa,CAACS,OAAnB,EACI;;AACJ,UAAId,EAAE,GAAGQ,EAAE,CAACQ,qBAAH,EAAT;AAAA,UAAqCC,IAAI,GAAGjB,EAAE,CAACiB,IAA/C;AAAA,UAAqDC,GAAG,GAAGlB,EAAE,CAACkB,GAA9D;;AACA,UAAIC,GAAG,GAAGF,IAAI,GAAGG,MAAM,CAACC,OAAxB;AACA,UAAIC,GAAG,GAAGJ,GAAG,GAAGE,MAAM,CAACG,OAAvB;AACA,UAAIC,CAAC,GAAGb,IAAI,GAAGQ,GAAf;AACA,UAAIM,CAAC,GAAGb,IAAI,GAAGU,GAAf;AACA,UAAIuB,IAAI,GAAGd,IAAI,CAACC,GAAL,EAAX;AACA,UAAIL,QAAQ,GAAG;AACX1B,QAAAA,YAAY,EAAE,IADH;AAEX6C,QAAAA,KAAK,EAAED,IAFI;AAGXf,QAAAA,GAAG,EAAEe,IAHM;AAIXlC,QAAAA,IAAI,EAAEA,IAJK;AAKXC,QAAAA,IAAI,EAAEA,IALK;AAMXY,QAAAA,CAAC,EAAEA,CANQ;AAOXC,QAAAA,CAAC,EAAEA,CAPQ;AAQXG,QAAAA,EAAE,EAAE,CARO;AASXC,QAAAA,EAAE,EAAE,CATO;AAUXkB,QAAAA,GAAG,EAAEvC,EAAE,CAACwC,YAVG;AAWXC,QAAAA,GAAG,EAAEzC,EAAE,CAAC0C,WAXG;AAYX/B,QAAAA,GAAG,EAAEA,GAZM;AAaXG,QAAAA,GAAG,EAAEA;AAbM,OAAf;AAeAlB,MAAAA,QAAQ,CAACU,OAAT,GAAmBa,QAAnB;AACA,OAAC5B,SAAS,CAACe,OAAV,CAAkBqC,cAAlB,IAAoC1D,IAArC,EAA2CkC,QAA3C;AACAxB,MAAAA,QAAQ,CAACwB,QAAD,CAAR;AACAhC,MAAAA,EAAE,CAACyB,MAAD,EAAS,WAAT,EAAsBc,WAAtB,CAAF;AACAvC,MAAAA,EAAE,CAACyB,MAAD,EAAS,WAAT,EAAsBkB,WAAtB,CAAF;AACA3C,MAAAA,EAAE,CAACyB,MAAD,EAAS,SAAT,EAAoBoB,SAApB,CAAF;AACA7C,MAAAA,EAAE,CAACyB,MAAD,EAAS,UAAT,EAAqBqB,UAArB,CAAF;AACH,KA/BD;;AAgCA,QAAIW,WAAW,GAAG,UAAUjB,KAAV,EAAiB;AAC/B9B,MAAAA,aAAa,CAACS,OAAd,GAAwB,IAAxB;AACA8B,MAAAA,eAAe,CAACT,KAAK,CAACC,KAAP,EAAcD,KAAK,CAACE,KAApB,CAAf;AACH,KAHD;;AAIA,QAAIgB,YAAY,GAAG,UAAUlB,KAAV,EAAiB;AAChC9B,MAAAA,aAAa,CAACS,OAAd,GAAwB,IAAxB;AACA8B,MAAAA,eAAe,CAACT,KAAK,CAACI,cAAN,CAAqB,CAArB,EAAwBH,KAAzB,EAAgCD,KAAK,CAACI,cAAN,CAAqB,CAArB,EAAwBF,KAAxD,CAAf;AACH,KAHD;;AAIA1C,IAAAA,EAAE,CAACa,EAAD,EAAK,WAAL,EAAkB4C,WAAlB,CAAF;AACAzD,IAAAA,EAAE,CAACa,EAAD,EAAK,YAAL,EAAmB6C,YAAnB,CAAF;AACA,WAAO,YAAY;AACf3D,MAAAA,GAAG,CAACc,EAAD,EAAK,WAAL,EAAkB4C,WAAlB,CAAH;AACA1D,MAAAA,GAAG,CAACc,EAAD,EAAK,YAAL,EAAmB6C,YAAnB,CAAH;AACA3D,MAAAA,GAAG,CAAC0B,MAAD,EAAS,WAAT,EAAsBc,WAAtB,CAAH;AACAxC,MAAAA,GAAG,CAAC0B,MAAD,EAAS,WAAT,EAAsBkB,WAAtB,CAAH;AACA5C,MAAAA,GAAG,CAAC0B,MAAD,EAAS,SAAT,EAAoBoB,SAApB,CAAH;AACA9C,MAAAA,GAAG,CAAC0B,MAAD,EAAS,UAAT,EAAqBqB,UAArB,CAAH;AACA,UAAInC,iBAAiB,CAACQ,OAAtB,EACID,oBAAoB,CAACP,iBAAiB,CAACQ,OAAnB,CAApB;AACJR,MAAAA,iBAAiB,CAACQ,OAAlB,GAA4B,IAA5B;AACAT,MAAAA,aAAa,CAACS,OAAd,GAAwB,KAAxB;AACAV,MAAAA,QAAQ,CAACU,OAAT,GAAmB;AAAEb,QAAAA,YAAY,EAAE;AAAhB,OAAnB;AACAE,MAAAA,QAAQ,CAACC,QAAQ,CAACU,OAAV,CAAR;AACH,KAbD;AAcH,GAnGQ,EAmGN,CAACN,EAAD,EAAKV,QAAL,EAAeC,SAAf,CAnGM,CAAT;AAoGA,SAAO,CAACU,KAAD,EAAQP,KAAR,CAAP;AACH,CA9GD;;AA+GA,OAAO,IAAIoD,aAAa,GAAG,UAAUC,KAAV,EAAiB;AACxC,MAAIC,QAAQ,GAAGD,KAAK,CAACC,QAArB;AAAA,MAA+B3D,MAAM,GAAGX,MAAM,CAACqE,KAAD,EAAQ,CAAC,UAAD,CAAR,CAA9C;;AACA,MAAIvD,EAAE,GAAGJ,UAAU,CAACC,MAAD,CAAnB;AAAA,MAA6B4D,GAAG,GAAGzD,EAAE,CAAC,CAAD,CAArC;AAAA,MAA0CE,KAAK,GAAGF,EAAE,CAAC,CAAD,CAApD;;AACA,MAAI0D,OAAO,GAAGnE,MAAM,CAACgE,KAAD,EAAQrD,KAAR,CAApB;AACA,SAAOf,YAAY,CAACuE,OAAD,EAAUzE,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyE,OAAO,CAACH,KAAb,CAAT,EAA8B;AAAEE,IAAAA,GAAG,EAAE,UAAUjD,EAAV,EAAc;AAChF,UAAIkD,OAAO,CAACH,KAAR,CAAcE,GAAlB,EAAuB;AACnB,YAAI,OAAOC,OAAO,CAACH,KAAR,CAAcE,GAArB,KAA6B,QAAjC,EACIC,OAAO,CAACH,KAAR,CAAcE,GAAd,CAAkB3C,OAAlB,GAA4BN,EAA5B;AACJ,YAAI,OAAOkD,OAAO,CAACH,KAAR,CAAcE,GAArB,KAA6B,UAAjC,EACIC,OAAO,CAACH,KAAR,CAAcE,GAAd,CAAkBjD,EAAlB;AACP;;AACDiD,MAAAA,GAAG,CAACjD,EAAD,CAAH;AACH;AAR8D,GAA9B,CAAlB,CAAnB;AASH,CAbM;AAcP,eAAeZ,UAAf","sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport { cloneElement, useEffect, useRef, useState } from 'react';\nimport { render } from 'react-universal-interface';\nimport useLatest from './useLatest';\nimport { noop, off, on } from './misc/util';\nvar useScratch = function (params) {\n    if (params === void 0) { params = {}; }\n    var disabled = params.disabled;\n    var paramsRef = useLatest(params);\n    var _a = useState({ isScratching: false }), state = _a[0], setState = _a[1];\n    var refState = useRef(state);\n    var refScratching = useRef(false);\n    var refAnimationFrame = useRef(null);\n    var _b = useState(null), el = _b[0], setEl = _b[1];\n    useEffect(function () {\n        if (disabled)\n            return;\n        if (!el)\n            return;\n        var onMoveEvent = function (docX, docY) {\n            cancelAnimationFrame(refAnimationFrame.current);\n            refAnimationFrame.current = requestAnimationFrame(function () {\n                var _a = el.getBoundingClientRect(), left = _a.left, top = _a.top;\n                var elX = left + window.scrollX;\n                var elY = top + window.scrollY;\n                var x = docX - elX;\n                var y = docY - elY;\n                setState(function (oldState) {\n                    var newState = __assign(__assign({}, oldState), { dx: x - (oldState.x || 0), dy: y - (oldState.y || 0), end: Date.now(), isScratching: true });\n                    refState.current = newState;\n                    (paramsRef.current.onScratch || noop)(newState);\n                    return newState;\n                });\n            });\n        };\n        var onMouseMove = function (event) {\n            onMoveEvent(event.pageX, event.pageY);\n        };\n        var onTouchMove = function (event) {\n            onMoveEvent(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n        };\n        var onMouseUp;\n        var onTouchEnd;\n        var stopScratching = function () {\n            if (!refScratching.current)\n                return;\n            refScratching.current = false;\n            refState.current = __assign(__assign({}, refState.current), { isScratching: false });\n            (paramsRef.current.onScratchEnd || noop)(refState.current);\n            setState({ isScratching: false });\n            off(window, 'mousemove', onMouseMove);\n            off(window, 'touchmove', onTouchMove);\n            off(window, 'mouseup', onMouseUp);\n            off(window, 'touchend', onTouchEnd);\n        };\n        onMouseUp = stopScratching;\n        onTouchEnd = stopScratching;\n        var startScratching = function (docX, docY) {\n            if (!refScratching.current)\n                return;\n            var _a = el.getBoundingClientRect(), left = _a.left, top = _a.top;\n            var elX = left + window.scrollX;\n            var elY = top + window.scrollY;\n            var x = docX - elX;\n            var y = docY - elY;\n            var time = Date.now();\n            var newState = {\n                isScratching: true,\n                start: time,\n                end: time,\n                docX: docX,\n                docY: docY,\n                x: x,\n                y: y,\n                dx: 0,\n                dy: 0,\n                elH: el.offsetHeight,\n                elW: el.offsetWidth,\n                elX: elX,\n                elY: elY,\n            };\n            refState.current = newState;\n            (paramsRef.current.onScratchStart || noop)(newState);\n            setState(newState);\n            on(window, 'mousemove', onMouseMove);\n            on(window, 'touchmove', onTouchMove);\n            on(window, 'mouseup', onMouseUp);\n            on(window, 'touchend', onTouchEnd);\n        };\n        var onMouseDown = function (event) {\n            refScratching.current = true;\n            startScratching(event.pageX, event.pageY);\n        };\n        var onTouchStart = function (event) {\n            refScratching.current = true;\n            startScratching(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n        };\n        on(el, 'mousedown', onMouseDown);\n        on(el, 'touchstart', onTouchStart);\n        return function () {\n            off(el, 'mousedown', onMouseDown);\n            off(el, 'touchstart', onTouchStart);\n            off(window, 'mousemove', onMouseMove);\n            off(window, 'touchmove', onTouchMove);\n            off(window, 'mouseup', onMouseUp);\n            off(window, 'touchend', onTouchEnd);\n            if (refAnimationFrame.current)\n                cancelAnimationFrame(refAnimationFrame.current);\n            refAnimationFrame.current = null;\n            refScratching.current = false;\n            refState.current = { isScratching: false };\n            setState(refState.current);\n        };\n    }, [el, disabled, paramsRef]);\n    return [setEl, state];\n};\nexport var ScratchSensor = function (props) {\n    var children = props.children, params = __rest(props, [\"children\"]);\n    var _a = useScratch(params), ref = _a[0], state = _a[1];\n    var element = render(props, state);\n    return cloneElement(element, __assign(__assign({}, element.props), { ref: function (el) {\n            if (element.props.ref) {\n                if (typeof element.props.ref === 'object')\n                    element.props.ref.current = el;\n                if (typeof element.props.ref === 'function')\n                    element.props.ref(el);\n            }\n            ref(el);\n        } }));\n};\nexport default useScratch;\n"]},"metadata":{},"sourceType":"module"}