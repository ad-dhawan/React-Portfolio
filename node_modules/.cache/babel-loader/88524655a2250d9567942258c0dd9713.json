{"ast":null,"code":"import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\n\nvar useLocalStorage = function (key, initialValue, options) {\n  if (!isBrowser) {\n    return [initialValue, noop, noop];\n  }\n\n  if (!key) {\n    throw new Error('useLocalStorage key may not be falsy');\n  }\n\n  var deserializer = options ? options.raw ? function (value) {\n    return value;\n  } : options.deserializer : JSON.parse; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  var initializer = useRef(function (key) {\n    try {\n      var serializer = options ? options.raw ? String : options.serializer : JSON.stringify;\n      var localStorageValue = localStorage.getItem(key);\n\n      if (localStorageValue !== null) {\n        return deserializer(localStorageValue);\n      } else {\n        initialValue && localStorage.setItem(key, serializer(initialValue));\n        return initialValue;\n      }\n    } catch (_a) {\n      // If user is in private mode or has storage restriction\n      // localStorage can throw. JSON.parse and JSON.stringify\n      // can throw, too.\n      return initialValue;\n    }\n  }); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  var _a = useState(function () {\n    return initializer.current(key);\n  }),\n      state = _a[0],\n      setState = _a[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n  useLayoutEffect(function () {\n    return setState(initializer.current(key));\n  }, [key]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  var set = useCallback(function (valOrFunc) {\n    try {\n      var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n      if (typeof newState === 'undefined') return;\n      var value = void 0;\n      if (options) {\n        if (options.raw) {\n          if (typeof newState === 'string') value = newState;else value = JSON.stringify(newState);\n        } else if (options.serializer) value = options.serializer(newState);else value = JSON.stringify(newState);\n      } else value = JSON.stringify(newState);\n      localStorage.setItem(key, value);\n      setState(deserializer(value));\n    } catch (_a) {// If user is in private mode or has storage restriction\n      // localStorage can throw. Also JSON.stringify can throw.\n    }\n  }, [key, setState]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  var remove = useCallback(function () {\n    try {\n      localStorage.removeItem(key);\n      setState(undefined);\n    } catch (_a) {// If user is in private mode or has storage restriction\n      // localStorage can throw.\n    }\n  }, [key, setState]);\n  return [state, set, remove];\n};\n\nexport default useLocalStorage;","map":{"version":3,"sources":["D:/React-Portfolio/node_modules/react-use/esm/useLocalStorage.js"],"names":["useCallback","useState","useRef","useLayoutEffect","isBrowser","noop","useLocalStorage","key","initialValue","options","Error","deserializer","raw","value","JSON","parse","initializer","serializer","String","stringify","localStorageValue","localStorage","getItem","setItem","_a","current","state","setState","set","valOrFunc","newState","remove","removeItem","undefined"],"mappings":"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","sourcesContent":["import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n"]},"metadata":{},"sourceType":"module"}